export class DynamicInput {
    constructor(key) {
        this.key = this.id = this.name = key;
    }
    setFocus() {
        this.focus = true;
        return this;
    }
    required() {
        this.templateOptions.required = true;
        return this;
    }
    fxFlex(value) {
        this.templateOptions.fxFlex = value;
        return this;
    }
    set(property, value) {
        this[property] = value;
        return this;
    }
    setTemplateOption(property, value) {
        this.templateOptions[property] = value;
        return this;
    }
    addTemplateOptions(template_options) {
        this.templateOptions = Object.assign({}, this.templateOptions, template_options);
        return this;
    }
    setTranslatedTemplateOptions(translateService) {
        return this;
    }
    load(fieldConfig) {
        for (let key in fieldConfig) {
            this[key] = fieldConfig[key];
        }
        return this;
    }
}
export class TextDynamicInput extends DynamicInput {
    constructor(key) {
        super(key);
        this.key = key;
        this.type = 'input';
        this.templateOptions = {
            placeholder: key
        };
    }
    setTranslatedTemplateOptions(translateService) {
        this.templateOptions.placeholder = translateService.instant(this.key);
        return this;
    }
}
export class NumberDynamicInput extends DynamicInput {
    constructor(key) {
        super(key);
        this.key = key;
        this.type = 'input';
        this.key = this.id = this.name = key;
        this.templateOptions = {
            type: 'number',
            step: 0.01,
            min: 0,
            placeholder: key
        };
    }
    setTranslatedTemplateOptions(translateService) {
        this.templateOptions.placeholder = translateService.instant(this.key);
        return this;
    }
}
export class CheckboxDynamicInput extends DynamicInput {
    constructor(key) {
        super(key);
        this.key = key;
        this.type = 'checkbox';
        this.templateOptions = {
            indeterminate: false,
            label: key
        };
    }
    setTranslatedTemplateOptions(translateService) {
        this.templateOptions.label = translateService.instant(this.key);
        return this;
    }
}
export class TextareaDynamicInput extends DynamicInput {
    constructor(key) {
        super(key);
        this.key = key;
        this.type = 'textarea';
        this.templateOptions = {
            matAutosizeMinRows: 2,
            matAutosizeMaxRows: 150,
            label: key
        };
    }
    setTranslatedTemplateOptions(translateService) {
        this.templateOptions.placeholder = translateService.instant(this.key);
        this.templateOptions.label = translateService.instant(this.key);
        return this;
    }
}
export class SelectDynamicInput extends DynamicInput {
    constructor(key) {
        super(key);
        this.key = key;
        this.type = 'select';
        this.templateOptions = {
            label: key,
            options: []
        };
    }
    setTranslatedTemplateOptions(translateService) {
        this.templateOptions.label = translateService.instant(this.key);
        return this;
    }
    setOptions(options) {
        this.templateOptions.options = options;
        return this;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHluYW1pYy1pbnB1dHMuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZ3gtanNvbmFwaS1tYXRlcmlhbC8iLCJzb3VyY2VzIjpbImxpYi9keW5hbWljLWZvcm1zL2R5bmFtaWMtaW5wdXRzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLE1BQU0sT0FBTyxZQUFZO0lBMENyQixZQUFtQixHQUFXO1FBQzFCLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztJQUN6QyxDQUFDO0lBRU0sUUFBUTtRQUNYLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBRWxCLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFTSxRQUFRO1FBQ1gsSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1FBRXJDLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFTSxNQUFNLENBQUMsS0FBSztRQUNmLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUVwQyxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU0sR0FBRyxDQUFDLFFBQWdCLEVBQUUsS0FBVTtRQUNuQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsS0FBSyxDQUFDO1FBRXZCLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFTSxpQkFBaUIsQ0FBQyxRQUFnQixFQUFFLEtBQVU7UUFDakQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsR0FBRyxLQUFLLENBQUM7UUFFdkMsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVNLGtCQUFrQixDQUFDLGdCQUF1QztRQUM3RCxJQUFJLENBQUMsZUFBZSxxQkFBUSxJQUFJLENBQUMsZUFBZSxFQUFLLGdCQUFnQixDQUFFLENBQUM7UUFFeEUsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVNLDRCQUE0QixDQUFDLGdC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QUFHLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFaEUsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztDQUNKO0FBRUQsTUFBTSxPQUFPLGtCQUFtQixTQUFRLFlBQVk7SUFDaEQsWUFBMEIsR0FBRztRQUN6QixLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7UUFEVyxRQUFHLEdBQUgsR0FBRyxDQUFBO1FBRXpCLElBQUksQ0FBQyxJQUFJLEdBQUcsUUFBUSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxlQUFlLEdBQUc7WUFDbkIsS0FBSyxFQUFFLEdBQUc7WUFDVixPQUFPLEVBQUUsRUFBRTtTQUNkLENBQUM7SUFDTixDQUFDO0lBQ00sNEJBQTRCLENBQUMsZ0JBQWtDO1FBQ2xFLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxHQUFHLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFaEUsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVNLFVBQVUsQ0FBQyxPQUE2QztRQUMzRCxJQUFJLENBQUMsZUFBZSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFFdkMsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztDQUNKIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQG1lcmdlZmxhZyBsb3MgY2FtYmlvcyBlbiBlc3RlIGNvbXBvbmVudGUgbm8gZGViZW4gbGxlZ2FyIGEgMjFcbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEFic3RyYWN0Q29udHJvbCB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IFRyYW5zbGF0ZVNlcnZpY2UgfSBmcm9tICdAbmd4LXRyYW5zbGF0ZS9jb3JlJztcbmltcG9ydCB7IEZvcm1seUZpZWxkQ29uZmlnLCBGb3JtbHlUZW1wbGF0ZU9wdGlvbnMgfSBmcm9tICdAbmd4LWZvcm1seS9jb3JlJztcbmltcG9ydCB7IFJlc291cmNlIH0gZnJvbSAnbmd4LWpzb25hcGknO1xuXG5leHBvcnQgY2xhc3MgRHluYW1pY0lucHV0IGltcGxlbWVudHMgRm9ybWx5RmllbGRDb25maWcge1xuICAgIHB1YmxpYyByZWFkb25seSBtb2RlbDogYW55O1xuICAgIHB1YmxpYyByZWFkb25seSBwYXJlbnQ6IEZvcm1seUZpZWxkQ29uZmlnO1xuXG4gICAgcHVibGljIGtleTogc3RyaW5nO1xuICAgIHB1YmxpYyBpZDogc3RyaW5nO1xuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmc7XG4gICAgcHVibGljIHRlbXBsYXRlT3B0aW9uczogRm9ybWx5VGVtcGxhdGVPcHRpb25zO1xuICAgIHB1YmxpYyBvcHRpb25zVHlwZXM6IEFycmF5PHN0cmluZz47XG4gICAgcHVibGljIHZhbGlkYXRpb246IHtcbiAgICAgICAgbWVzc2FnZXM/OiB7XG4gICAgICAgICAgICBbbWVzc2FnZVByb3BlcnRpZXM6IHN0cmluZ106IHN0cmluZyB8ICgoZXJyb3I6IGFueSwgZmllbGQ6IEZvcm1seUZpZWxkQ29uZmlnKSA9PiBzdHJpbmcpO1xuICAgICAgICB9O1xuICAgICAgICBzaG93PzogYm9vbGVhbjtcbiAgICAgICAgW2FkZGl0aW9uYWxQcm9wZXJ0aWVzOiBzdHJpbmddOiBhbnk7XG4gICAgfTtcbiAgICBwdWJsaWMgdmFsaWRhdG9yczogYW55O1xuICAgIHB1YmxpYyBhc3luY1ZhbGlkYXRvcnM6IGFueTtcbiAgICBwdWJsaWMgdGVtcGxhdGU6IHN0cmluZztcbiAgICBwdWJsaWMgd3JhcHBlcnM6IEFycmF5PHN0cmluZz47XG4gICAgcHVibGljIGhpZGU6IGJvb2xlYW47XG4gICAgcHVibGljIGhpZGVFeHByZXNzaW9uOiBib29sZWFuIHwgc3RyaW5nIHwgKChtb2RlbDogYW55LCBmb3JtU3RhdGU6IGFueSkgPT4gYm9vbGVhbik7XG4gICAgcHVibGljIGV4cHJlc3Npb25Qcm9wZXJ0aWVzOiB7IFtwcm9wZXJ0eTogc3RyaW5nXTogc3RyaW5nIHwgKChtb2RlbDogYW55LCBmb3JtU3RhdGU6IGFueSkgPT4gYm9vbGVhbikgfSB8IGFueTtcbiAgICBwdWJsaWMgZm9ybUNvbnRyb2w6IEFic3RyYWN0Q29udHJvbDtcbiAgICBwdWJsaWMgY2xhc3NOYW1lOiBzdHJpbmc7XG4gICAgcHVibGljIGZpZWxkR3JvdXBDbGFzc05hbWU6IHN0cmluZztcbiAgICBwdWJsaWMgZmllbGRHcm91cDogQXJyYXk8Rm9ybWx5RmllbGRDb25maWc+O1xuICAgIHB1YmxpYyBmaWVsZEFycmF5OiBGb3JtbHlGaWVsZENvbmZpZztcbiAgICBwdWJsaWMgdHlwZTogc3RyaW5nO1xuICAgIHB1YmxpYyBjb21wb25lbnQ6IGFueTtcbiAgICBwdWJsaWMgZm9jdXM6IGJvb2xlYW47XG4gICAgcHVibGljIG1vZGVsT3B0aW9uczoge1xuICAgICAgICBkZWJvdW5jZT86IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bWJlcjtcbiAgICAgICAgfTtcbiAgICAgICAgdXBkYXRlT24/OiAnY2hhbmdlJyB8ICdibHVyJyB8ICdzdWJtaXQnO1xuICAgIH07XG5cbiAgICAvLyBwdWJsaWMgbGlmZWN5Y2xlPzogRm9ybWx5TGlmZUN5Y2xlT3B0aW9ucztcbiAgICBwdWJsaWMgZGVmYXVsdFZhbHVlOiBhbnk7XG4gICAgcHVibGljIHBhcnNlcnM6IEFycmF5PCgodmFsdWU6IGFueSkgPT4ge30pPjtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihrZXk6IHN0cmluZykge1xuICAgICAgICB0aGlzLmtleSA9IHRoaXMuaWQgPSB0aGlzLm5hbWUgPSBrZXk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldEZvY3VzKCkge1xuICAgICAgICB0aGlzLmZvY3VzID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVxdWlyZWQoKSB7XG4gICAgICAgIHRoaXMudGVtcGxhdGVPcHRpb25zLnJlcXVpcmVkID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwdWJsaWMgZnhGbGV4KHZhbHVlKSB7XG4gICAgICAgIHRoaXMudGVtcGxhdGVPcHRpb25zLmZ4RmxleCA9IHZhbHVlO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQocHJvcGVydHk6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgICAgICB0aGlzW3Byb3BlcnR5XSA9IHZhbHVlO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRUZW1wbGF0ZU9wdGlvbihwcm9wZXJ0eTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgICAgIHRoaXMudGVtcGxhdGVPcHRpb25zW3Byb3BlcnR5XSA9IHZhbHVlO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRUZW1wbGF0ZU9wdGlvbnModGVtcGxhdGVfb3B0aW9uczogRm9ybWx5VGVtcGxhdGVPcHRpb25zKSB7XG4gICAgICAgIHRoaXMudGVtcGxhdGVPcHRpb25zID0geyAuLi50aGlzLnRlbXBsYXRlT3B0aW9ucywgLi4udGVtcGxhdGVfb3B0aW9ucyB9O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRUcmFuc2xhdGVkVGVtcGxhdGVPcHRpb25zKHRyYW5zbGF0ZVNlcnZpY2U6IFRyYW5zbGF0ZVNlcnZpY2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHVibGljIGxvYWQoZmllbGRDb25maWc6IEZvcm1seUZpZWxkQ29uZmlnKSB7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiBmaWVsZENvbmZpZykge1xuICAgICAgICAgICAgdGhpc1trZXldID0gZmllbGRDb25maWdba2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRleHREeW5hbWljSW5wdXQgZXh0ZW5kcyBEeW5hbWljSW5wdXQgaW1wbGVtZW50cyBGb3JtbHlGaWVsZENvbmZpZyB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHB1YmxpYyBrZXkpIHtcbiAgICAgICAgc3VwZXIoa2V5KTtcbiAgICAgICAgdGhpcy50eXBlID0gJ2lucHV0JztcbiAgICAgICAgdGhpcy50ZW1wbGF0ZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICBwbGFjZWhvbGRlcjoga2V5XG4gICAgICAgIH07XG4gICAgfVxuICAgIHB1YmxpYyBzZXRUcmFuc2xhdGVkVGVtcGxhdGVPcHRpb25zKHRyYW5zbGF0ZVNlcnZpY2U6IFRyYW5zbGF0ZVNlcnZpY2UpIHtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZU9wdGlvbnMucGxhY2Vob2xkZXIgPSB0cmFuc2xhdGVTZXJ2aWNlLmluc3RhbnQodGhpcy5rZXkpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE51bWJlckR5bmFtaWNJbnB1dCBleHRlbmRzIER5bmFtaWNJbnB1dCBpbXBsZW1lbnRzIEZvcm1seUZpZWxkQ29uZmlnIHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIGtleSkge1xuICAgICAgICBzdXBlcihrZXkpO1xuICAgICAgICB0aGlzLnR5cGUgPSAnaW5wdXQnO1xuICAgICAgICB0aGlzLmtleSA9IHRoaXMuaWQgPSB0aGlzLm5hbWUgPSBrZXk7XG4gICAgICAgIHRoaXMudGVtcGxhdGVPcHRpb25zID0ge1xuICAgICAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgICAgICBzdGVwOiAwLjAxLFxuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IGtleVxuICAgICAgICB9O1xuICAgIH1cbiAgICBwdWJsaWMgc2V0VHJhbnNsYXRlZFRlbXBsYXRlT3B0aW9ucyh0cmFuc2xhdGVTZXJ2aWNlOiBUcmFuc2xhdGVTZXJ2aWNlKSB7XG4gICAgICAgIHRoaXMudGVtcGxhdGVPcHRpb25zLnBsYWNlaG9sZGVyID0gdHJhbnNsYXRlU2VydmljZS5pbnN0YW50KHRoaXMua2V5KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGVja2JveER5bmFtaWNJbnB1dCBleHRlbmRzIER5bmFtaWNJbnB1dCBpbXBsZW1lbnRzIEZvcm1seUZpZWxkQ29uZmlnIHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIGtleSkge1xuICAgICAgICBzdXBlcihrZXkpO1xuICAgICAgICB0aGlzLnR5cGUgPSAnY2hlY2tib3gnO1xuICAgICAgICB0aGlzLnRlbXBsYXRlT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGluZGV0ZXJtaW5hdGU6IGZhbHNlLFxuICAgICAgICAgICAgbGFiZWw6IGtleVxuICAgICAgICB9O1xuICAgIH1cbiAgICBwdWJsaWMgc2V0VHJhbnNsYXRlZFRlbXBsYXRlT3B0aW9ucyh0cmFuc2xhdGVTZXJ2aWNlOiBUcmFuc2xhdGVTZXJ2aWNlKSB7XG4gICAgICAgIHRoaXMudGVtcGxhdGVPcHRpb25zLmxhYmVsID0gdHJhbnNsYXRlU2VydmljZS5pbnN0YW50KHRoaXMua2V5KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUZXh0YXJlYUR5bmFtaWNJbnB1dCBleHRlbmRzIER5bmFtaWNJbnB1dCBpbXBsZW1lbnRzIEZvcm1seUZpZWxkQ29uZmlnIHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIGtleSkge1xuICAgICAgICBzdXBlcihrZXkpO1xuICAgICAgICB0aGlzLnR5cGUgPSAndGV4dGFyZWEnO1xuICAgICAgICB0aGlzLnRlbXBsYXRlT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIG1hdEF1dG9zaXplTWluUm93czogMixcbiAgICAgICAgICAgIG1hdEF1dG9zaXplTWF4Um93czogMTUwLFxuICAgICAgICAgICAgbGFiZWw6IGtleVxuICAgICAgICB9O1xuICAgIH1cbiAgICBwdWJsaWMgc2V0VHJhbnNsYXRlZFRlbXBsYXRlT3B0aW9ucyh0cmFuc2xhdGVTZXJ2aWNlOiBUcmFuc2xhdGVTZXJ2aWNlKSB7XG4gICAgICAgIHRoaXMudGVtcGxhdGVPcHRpb25zLnBsYWNlaG9sZGVyID0gdHJhbnNsYXRlU2VydmljZS5pbnN0YW50KHRoaXMua2V5KTtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZU9wdGlvbnMubGFiZWwgPSB0cmFuc2xhdGVTZXJ2aWNlLmluc3RhbnQodGhpcy5rZXkpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNlbGVjdER5bmFtaWNJbnB1dCBleHRlbmRzIER5bmFtaWNJbnB1dCBpbXBsZW1lbnRzIEZvcm1seUZpZWxkQ29uZmlnIHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIGtleSkge1xuICAgICAgICBzdXBlcihrZXkpO1xuICAgICAgICB0aGlzLnR5cGUgPSAnc2VsZWN0JztcbiAgICAgICAgdGhpcy50ZW1wbGF0ZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICBsYWJlbDoga2V5LFxuICAgICAgICAgICAgb3B0aW9uczogW11cbiAgICAgICAgfTtcbiAgICB9XG4gICAgcHVibGljIHNldFRyYW5zbGF0ZWRUZW1wbGF0ZU9wdGlvbnModHJhbnNsYXRlU2VydmljZTogVHJhbnNsYXRlU2VydmljZSkge1xuICAgICAgICB0aGlzLnRlbXBsYXRlT3B0aW9ucy5sYWJlbCA9IHRyYW5zbGF0ZVNlcnZpY2UuaW5zdGFudCh0aGlzLmtleSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHVibGljIHNldE9wdGlvbnMob3B0aW9uczogQXJyYXk8eyB2YWx1ZTogYW55OyBsYWJlbDogc3RyaW5nIH0+KTogU2VsZWN0RHluYW1pY0lucHV0IHtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZU9wdGlvbnMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuIl19