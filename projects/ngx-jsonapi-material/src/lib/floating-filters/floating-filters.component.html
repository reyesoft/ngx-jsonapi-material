<mat-expansion-panel
    [disabled]="!hasAdvancedFilters"
    [hideToggle]="true"
    (opened)="toggleStateExpansionPanel(false)"
    (closed)="toggleStateExpansionPanel(true)"
    [style.box-shadow]="'none'"
    class="width-100" [expanded]="open_expansion_panel" [style.background]="'transparent'">
    <mat-expansion-panel-header jamAvoidDisabledStyle [style.padding]="'0'">
        <mat-panel-description fxLayout="row" fxLayoutAlign="space-between center">
            <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="16px" (click)="$event.stopPropagation()">
                <button mat-button [ngClass]="'filter-button-' + appearance" color="accent"
                    *ngIf="hasAdvancedFilters"
                    (click)="toggleStateExpansionPanel(open_expansion_panel)">
                    <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="4px">
                        <button mat-icon-button class="mat-button" (click)="clearFilters(open_expansion_panel)">
                            <mat-icon
                                [innerHtml]="!open_expansion_panel ? 'filter_list' : 'close'"
                                [matTooltip]="open_expansion_panel ? 'Borrar todo' : 'Ver filtros'"
                            ></mat-icon>
                        </button>

                        <span>FILTROS</span>

                        <mat-icon matSuffix
                            [style.width.px]="'40'"
                            [innerHtml]="open_expansion_panel ? 'arrow_drop_up' : 'arrow_drop_down'"
                        ></mat-icon>
                    </div>
                </button>
            </div>

            <div fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="16px" (keydown)="$event.stopPropagation()" (click)="$event.stopPropagation()">
                <ng-content select="ng-container.jam-filter-header"></ng-content>
            </div>
        </mat-panel-description>
    </mat-expansion-panel-header>

    <div fxLayout="row wrap" fxLayoutAlign="start center" fxLayoutGap="16px grid">
        <ng-content select="ng-container.jam-filter-content">
        </ng-content>
    </div>
</mat-expansion-panel>
